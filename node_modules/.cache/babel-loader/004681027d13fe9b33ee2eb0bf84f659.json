{"ast":null,"code":"import _slicedToArray from \"/home/gmarin/Software/TollQuick/fontend2/now-ui-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/gmarin/Software/TollQuick/fontend2/now-ui-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/gmarin/Software/TollQuick/fontend2/now-ui-dashboard-react-master/src/components/tables/Tablelist.jsx\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\", \"\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport { Table } from \"reactstrap\";\nimport { thead, tbody } from \"variables/general\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { Query, ApolloConsumer } from \"react-apollo\";\nimport { graphql } from 'react-apollo';\nimport queries from 'queries/Empresas.jsx';\nimport gql from 'graphql-tag';\nimport uuid from 'uuid';\nimport EmpresaItem from 'components/Empresa/EmpresaItem.jsx';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nconst getEmpresas = gql(_templateObject(), queries.getEmpresasAll);\n\nfunction TablesEmpresas() {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        loading = _useState2[0],\n        NewLoading = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        NuevoError = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        modalIsOpen = _useState6[0],\n        grdModalOpen = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        empresas = _useState8[0],\n        guardarEmpresas = _useState8[1];\n\n  const handleCloseModal = e => {\n    grdModalOpen(false);\n  };\n\n  const handleOpenModal = e => {\n    grdModalOpen(true);\n  };\n\n  const BorrarEmpresas = id => {\n    debugger;\n    const query = queries.deleteEmpresa;\n\n    const _useMutation = useMutation(query),\n          _useMutation2 = _slicedToArray(_useMutation, 1),\n          eliminado = _useMutation2[0];\n\n    eliminado({\n      variables: {\n        id\n      }\n    });\n    if (loading) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"loading...\");\n    if (error) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, error.message);\n    return React.createElement(Empresas, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    });\n  };\n\n  const Empresas = () => {\n    debugger;\n\n    const _useQuery = useQuery(getEmpresas, {\n      pollInterval: 500\n    }),\n          data = _useQuery.data,\n          error = _useQuery.error,\n          loading = _useQuery.loading; // guardarEmpresas(data);\n\n\n    if (loading) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"loading...\");\n    if (error) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, error.message);\n    return React.createElement(\"tbody\", {\n      key: uuid(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, data.empresas.map(element => {\n      return React.createElement(EmpresaItem, {\n        key: uuid(),\n        BorrarEmpresas: BorrarEmpresas,\n        variables: element,\n        onCloseModal: handleCloseModal,\n        onOpenModal: handleOpenModal,\n        modalIsOpen: modalIsOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      });\n    }));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    key: 2,\n    responsive: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    className: \"text-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, thead.map((prop, key) => {\n    if (key === thead.length - 1) return React.createElement(\"th\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, prop);\n    return React.createElement(\"th\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, prop);\n  }))), React.createElement(Empresas, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })));\n}\n\nexport default graphql(getEmpresas)(TablesEmpresas);","map":{"version":3,"sources":["/home/gmarin/Software/TollQuick/fontend2/now-ui-dashboard-react-master/src/components/tables/Tablelist.jsx"],"names":["Table","thead","tbody","React","useState","useEffect","Fragment","Query","ApolloConsumer","graphql","queries","gql","uuid","EmpresaItem","useQuery","useMutation","getEmpresas","getEmpresasAll","TablesEmpresas","loading","NewLoading","error","NuevoError","modalIsOpen","grdModalOpen","empresas","guardarEmpresas","handleCloseModal","e","handleOpenModal","BorrarEmpresas","id","query","deleteEmpresa","eliminado","variables","message","Empresas","pollInterval","data","map","element","prop","key","length"],"mappings":"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","sourcesContent":["import { Table } from \"reactstrap\";\nimport { thead, tbody } from \"variables/general\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { Query, ApolloConsumer } from \"react-apollo\"\nimport { graphql } from 'react-apollo';\nimport queries from 'queries/Empresas.jsx';\nimport gql from 'graphql-tag';\nimport uuid from 'uuid';\nimport EmpresaItem from 'components/Empresa/EmpresaItem.jsx'\nimport { useQuery,useMutation } from '@apollo/react-hooks';\n\nconst getEmpresas = gql`${queries.getEmpresasAll}`;\n\n\nfunction TablesEmpresas() {\n\n    const [loading, NewLoading] = useState(true);\n    const [error, NuevoError] = useState(null);\n    const [modalIsOpen, grdModalOpen] = useState(false);\n    const [empresas, guardarEmpresas] = useState([]);\n    const handleCloseModal = e => {\n        grdModalOpen(false);\n    }\n    const handleOpenModal = e => {\n        grdModalOpen(true);\n    }\n    const BorrarEmpresas = (id) => {\n        debugger\n        const query = queries.deleteEmpresa;\n        const [eliminado] = useMutation(query);\n        eliminado({ variables: { id } });\n\n        if (loading) return <p>loading...</p>;\n        if (error) return <p>{error.message}</p>;\n\n        return (\n          <Empresas/>\n        )\n    }\n\n    const Empresas = () => {\n        debugger\n        const { data, error, loading } = useQuery(getEmpresas, { pollInterval: 500 });\n        // guardarEmpresas(data);\n\n        if (loading) return <p>loading...</p>;\n        if (error) return <p>{error.message}</p>;\n\n        return (\n            <tbody key={uuid()}>\n                {data.empresas.map((element) => {\n                    return (\n\n                        <EmpresaItem\n                            key={uuid()}\n                            BorrarEmpresas={BorrarEmpresas}\n                            variables={element}\n                            onCloseModal={handleCloseModal}\n                            onOpenModal={handleOpenModal}\n                            modalIsOpen={modalIsOpen} />\n                    )\n                }\n                )}\n            </tbody>\n        )\n    }\n\n\n    return (\n        <>\n            <Table key={2} responsive>\n                <thead className=\"text-primary\">\n                    <tr>\n                        {thead.map((prop, key) => {\n                            if (key === thead.length - 1)\n                                return (\n                                    <th key={key}>\n                                        {prop}\n                                    </th>\n                                );\n                            return <th key={key}>{prop}</th>;\n                        })}\n                    </tr>\n                </thead>\n                    <Empresas />        \n            </Table>\n        </>\n    );\n}\n\n\nexport default graphql(getEmpresas)(TablesEmpresas);\n\n\n"]},"metadata":{},"sourceType":"module"}